!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ZProgress=e()}(this,function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){return"number"==typeof t}function s(t,e){return t in e?e[t]:c[t]}function o(t,e,n){Object.defineProperty(t,e,{value:n,enumerable:!1,writable:!0})}var u="wait",a=Symbol("_status"),h=Symbol("_pause"),c={trickle:!0,trickleSpeed:200,min:0,max:100,waitMax:98,onChage:void 0},l=function(){function e(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),i(this,"$_value",c.min),this[a]=u,this[h]=!1,o(this,"options",r),e.props.forEach(function(t){return n.options[t]=s(t,r)}),Object.freeze&&Object.freeze(this.options)}return n(e,[{key:"set",value:function(t){var n=e.clamp(t);return(this.$_value=n)>=100?this[a]="done":"done"===this[a]&&(this[a]=u),this.options.onChange&&this.options.onChange(n),this}},{key:"start",value:function(){var t=this;if(this[h]=!1,this.isDone()||this.isStarted())return this;var e=function e(){setTimeout(function(){this.isStarted()&&(this[h]||this.trickle(),e())}.bind(t),t.options.trickleSpeed)};return this.options.trickle&&(e.call(this),this[a]="started",this[h]=!1),this}},{key:"done",value:function(){return this.inc(30+50*Math.random()).set(100),this[a]="done",this[h]=!1,this}},{key:"pause",value:function(){return this[h]=!0,this}},{key:"stop",value:function(){return this.reset()}},{key:"reset",value:function(){return this[a]=u,this[h]=!1,this.set(0),this}},{key:"inc",value:function(t){var n=this.value;return this.value>=100?this:(r(t)||(t=n>=0&&n<20?10:n>=20&&n<50?4:n>=50&&n<80?2:n>=80&&n<99?.5:0),this.set(e.clamp(n+t,0,this.options.waitMax)))}},{key:"trickle",value:function(){return this.inc()}},{key:"isStarted",value:function(){return"started"===this[a]}},{key:"isPause",value:function(){return!!this[h]}},{key:"isDone",value:function(){return"done"===this[a]}},{key:"value",get:function(){return this.$_value},set:function(t){this.set(t)}}],[{key:"clamp",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.min,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.max;return t<e?e:t>n?n:t}}]),e}();return i(l,"version","1.3.2"),i(l,"props",["trickle","trickleSpeed","waitMax","onChange"]),l});
